@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
 * WCAG 2.1 AA Compliant Design System
 * All colors meet 4.5:1 contrast ratio for normal text
 * Based on GIGW 3.0 (Indian Government Website Guidelines)
 */

@layer base {
  :root {
    /* Core Colors - Light Mode */
    --background: 0 0% 100%;
    /* White */
    --foreground: 215 25% 15%;
    /* Dark Blue-Gray (4.5:1+) */

    --card: 0 0% 100%;
    --card-foreground: 215 25% 15%;

    --popover: 0 0% 100%;
    --popover-foreground: 215 25% 15%;

    /* Primary - Dark Blue (WCAG AA Compliant) */
    --primary: 221 83% 23%;
    /* Dark Blue #0a1f5c */
    --primary-foreground: 0 0% 100%;
    /* White */

    /* Secondary - Light Blue Outline */
    --secondary: 217 91% 95%;
    /* Very Light Blue */
    --secondary-foreground: 221 83% 23%;
    /* Dark Blue */

    /* Muted - Subtle Backgrounds */
    --muted: 210 40% 96%;
    --muted-foreground: 215 16% 47%;
    /* Medium Gray (4.5:1+) */

    /* Accent - Yellow for Highlights (WCAG AA) */
    --accent: 45 93% 47%;
    /* Dark Yellow #e6a800 */
    --accent-foreground: 215 25% 15%;
    /* Dark Text */

    /* Status Colors - All WCAG AA Compliant */
    --success: 142 71% 35%;
    /* Dark Green #0f7a3d */
    --success-foreground: 0 0% 100%;

    --warning: 45 93% 47%;
    /* Dark Yellow */
    --warning-foreground: 215 25% 15%;
    /* Dark Text */

    --destructive: 0 72% 41%;
    /* Dark Red #b91c1c */
    --destructive-foreground: 0 0% 100%;

    --info: 199 89% 35%;
    /* Dark Teal #0c7792 */
    --info-foreground: 0 0% 100%;

    /* Borders & Inputs */
    --border: 215 20% 82%;
    /* Light Gray Border */
    --input: 215 20% 82%;
    --ring: 221 83% 23%;
    /* Dark Blue Focus Ring */

    /* Accessibility Tokens */
    --focus-ring: 221 83% 23%;
    /* 3px solid blue */
    --focus-offset: 2px;
    --min-tap-target: 44px;

    --radius: 0.5rem;

    /* Shadows */
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);

    /* Sidebar */
    --sidebar-background: 221 83% 23%;
    --sidebar-foreground: 0 0% 100%;
    --sidebar-primary: 221 83% 23%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 221 83% 28%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 221 83% 28%;
    --sidebar-ring: 221 83% 23%;
  }

  .dark {
    /* Dark Mode - Maintaining WCAG AA Compliance */
    --background: 222 47% 11%;
    /* Very Dark Blue */
    --foreground: 210 40% 98%;
    /* Almost White */

    --card: 222 47% 11%;
    --card-foreground: 210 40% 98%;

    --popover: 222 47% 11%;
    --popover-foreground: 210 40% 98%;

    --primary: 217 91% 60%;
    /* Bright Blue */
    --primary-foreground: 222 47% 11%;
    /* Dark Background */

    --secondary: 217 33% 18%;
    /* Dark Blue-Gray */
    --secondary-foreground: 210 40% 98%;

    --muted: 217 33% 18%;
    --muted-foreground: 215 20% 65%;

    --accent: 45 93% 58%;
    /* Bright Yellow */
    --accent-foreground: 222 47% 11%;

    --success: 142 71% 45%;
    --success-foreground: 0 0% 100%;

    --warning: 45 93% 58%;
    --warning-foreground: 222 47% 11%;

    --destructive: 0 63% 51%;
    --destructive-foreground: 210 40% 98%;

    --info: 199 89% 48%;
    --info-foreground: 0 0% 100%;

    --border: 217 33% 18%;
    --input: 217 33% 18%;
    --ring: 217 91% 60%;

    --sidebar-background: 222 47% 11%;
    --sidebar-foreground: 210 40% 98%;
    --sidebar-primary: 217 91% 60%;
    --sidebar-primary-foreground: 222 47% 11%;
    --sidebar-accent: 217 33% 18%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 217 33% 18%;
    --sidebar-ring: 217 91% 60%;
  }
}

@layer components {

  /* Accessible Glass Effect */
  .glass {
    @apply bg-white/90 dark:bg-slate-900/90 backdrop-blur-md border border-gray-300 dark:border-gray-700 shadow-md;
  }

  .glass-card {
    @apply bg-white/95 dark:bg-slate-900/95 backdrop-blur-md border border-gray-200 dark:border-gray-700 shadow-lg;
  }

  /* Accessible Text Gradient - High Contrast */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-blue-900 via-blue-800 to-blue-700 dark:from-blue-400 dark:via-blue-300 dark:to-blue-200;
  }

  /* Focus Visible Styles - WCAG 2.1 Requirement */
  .focus-visible-ring {
    @apply focus-visible:outline-none focus-visible:ring-3 focus-visible:ring-primary focus-visible:ring-offset-2;
  }

  /* Accessible Button Base */
  .btn-accessible {
    @apply min-h-[44px] px-4 py-2 font-medium focus-visible-ring;
  }

  /* Form Field Base */
  .form-field {
    @apply min-h-[44px] px-3 py-2 border-2 focus-visible-ring;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-size: 16px;
    line-height: 1.5;
  }

  /* Headings - Clear Hierarchy */
  h1 {
    @apply text-3xl font-bold leading-tight;
  }

  h2 {
    @apply text-2xl font-semibold leading-tight;
  }

  h3 {
    @apply text-xl font-semibold leading-snug;
  }

  h4 {
    @apply text-lg font-medium leading-snug;
  }

  /* Focus Styles for Keyboard Navigation */
  a:focus-visible,
  button:focus-visible,
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible {
    @apply outline-none ring-3 ring-primary ring-offset-2;
  }

  /* Skip to Main Content Link (Accessibility) */
  .skip-to-main {
    @apply absolute -top-full left-0 bg-primary text-primary-foreground px-4 py-2 z-50;
    @apply focus:top-0 focus:outline-none focus:ring-3 focus:ring-accent;
  }

  /* Transparent Subtitles */
  video::cue {
    background-color: transparent !important;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
    font-weight: 600;
  }

  /* High Contrast Mode Support */
  @media (prefers-contrast: high) {
    :root {
      --border: 215 20% 60%;
      --ring: 221 83% 23%;
    }
  }

  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}